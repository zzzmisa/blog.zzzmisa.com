<!doctype html><html><head><meta charset=utf-8><title>Raspberry Pi用学習リモコン基板ADRSIRとAlexaでスマートホーム - zzzmisa's blog</title>
<meta name=pinterest content="nopin"><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><link rel="dns-prefetch preconnect" href=https://fonts.gstatic.com crossorigin><link rel="dns-prefetch preconnect" href=https://use.fontawesome.com crossorigin><meta name=theme-color content="#263238"><meta name=generator content="Hugo 0.120.4"><link rel=apple-touch-icon href=https://blog.zzzmisa.com/images/logo.png><meta name=description content="この記事はおうちハック Advent Calendar 2018の 24 日目です。メリークリスマス！！ Raspberry Pi 用の学習リモコン基板と Alexa でスマートホームにチャレンジしました。 こんな"><meta property="og:title" content="Raspberry Pi用学習リモコン基板ADRSIRとAlexaでスマートホーム - zzzmisa's blog"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.zzzmisa.com/adrsir/"><meta property="og:image" content="https://blog.zzzmisa.com/images/adrsir6.jpg"><meta property="og:site_name" content="zzzmisa's blog"><meta property="og:description" content="この記事はおうちハック Advent Calendar 2018の 24 日目です。メリークリスマス！！ Raspberry Pi 用の学習リモコン基板と Alexa でスマートホームにチャレンジしました。 こんな"><meta property="og:locale" content="ja_JP"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="zzzmisa's blog"><meta name=twitter:url content="https://blog.zzzmisa.com/adrsir/"><meta name=twitter:title content="Raspberry Pi用学習リモコン基板ADRSIRとAlexaでスマートホーム - zzzmisa's blog"><meta name=twitter:description content="この記事はおうちハック Advent Calendar 2018の 24 日目です。メリークリスマス！！ Raspberry Pi 用の学習リモコン基板と Alexa でスマートホームにチャレンジしました。 こんな"><meta name=twitter:image content="https://blog.zzzmisa.com/images/adrsir6.jpg"><script type=application/ld+json>{"@context":"http://schema.org","@type":"NewsArticle","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.zzzmisa.com\/"},"headline":"Raspberry Pi用学習リモコン基板ADRSIRとAlexaでスマートホーム-zzzmisa's blog","image":{"@type":"ImageObject","url":"https:\/\/blog.zzzmisa.com\/images\/adrsir6.jpg","height":800,"width":800},"datePublished":"2018-12-24T00:00:00JST","dateModified":"2019-01-12T00:00:00JST","author":{"@type":"Person","name":"zzzmisa's blog"},"publisher":{"@type":"Organization","name":"zzzmisa's blog","logo":{"@type":"ImageObject","url":"https:\/\/blog.zzzmisa.com\/images/logo.png","width":600,"height":60}},"description":"この記事はおうちハック Advent Calendar 2018の 24 日目です。メリークリスマス！！ Raspberry Pi 用の学習リモコン基板と Alexa でスマートホームにチャレンジしました。 こんな"}</script><link rel=canonical href=https://blog.zzzmisa.com/adrsir/><link href="https://fonts.googleapis.com/css?family=Lobster%7cLato:400,700" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.4.2/css/all.css crossorigin=anonymous><style>html{font-size:18px;background-color:rgba(236,239,241,.5)}@media(max-width:768px){html{font-size:15px}}body{color:#333;font-family:roboto slab,ヒラギノ角ゴ pro w3,hiragino kaku gothic pro,メイリオ,Meiryo,sans-serif;font-feature-settings:"palt";font-size:inherit;line-height:1rem;margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-size:1rem;font-weight:700;line-height:1rem;margin:0}hr{border:0;border-top:1px dashed #cfd8dc;margin:1rem 0}p{margin:0;line-height:1rem}a{color:#2196f3;text-decoration:none;transition-duration:.3s}ul,ol{margin:0;padding:0}table{border-collapse:collapse;display:block;overflow-x:auto}th,td{font-size:.8rem;padding:.5rem}tr{border-bottom:1px dashed #ddd}main,aside{display:block}main{padding:1rem 0 3rem}.l-container{position:relative;max-width:68rem;margin:0 auto;padding:0 1rem}.l-container.thin{max-width:44rem}.l-header{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);padding:1rem 0;text-align:center}.l-header .description{margin-top:.5rem;font-size:.8rem}.l-footer{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);font-size:.6rem;font-weight:700;padding:1rem 0}.l-sidebar{margin:-1rem 0}@media(max-width:768px){.l-sidebar{margin-top:4rem}}.mrow{margin:0 -1rem;overflow:hidden}.mcol{box-sizing:border-box;float:left;padding:0 1rem}.c6{width:50%}.c4{width:33.26323833%}.c8{width:66.66666%}@media(max-width:768px){.mcol{width:100%;float:none}}.logo a{font-size:1.4rem;line-height:1.5rem;font-weight:700;color:#333}.articles{margin:-1rem 0;margin-bottom:1rem}.articles.sm{margin:-.5rem 0;margin-bottom:0}article{border-radius:4px;overflow:hidden}article.li{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);height:20rem;overflow:hidden;margin:1rem 0}article.li>a{display:block;color:#333}article.li .inner{padding:1rem}article.li .thumb{height:8rem}article.li .title{color:#333;font-size:1.2rem;line-height:1.5rem;margin-bottom:.5rem}article.li .summary{font-size:.8rem;height:6rem;overflow:hidden;margin-top:1rem}article.li .summary::after{content:'...'}article.lism{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);margin:.5rem 0}article.lism::after{content:'';display:block;clear:both}article.lism>a{display:block;color:#333}article.lism .inner{display:table-cell;vertical-align:middle;height:5rem;padding:0 .75rem}article.lism .thumb{width:5rem;height:5rem;float:left}article.lism .title{font-weight:700;font-size:.8rem;margin-bottom:.25rem}article.sn{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);margin-bottom:1rem}article.sn .thumb{height:20rem}@media(max-width:768px){article.sn .thumb{height:10rem}}article.sn>.article-header,article.sn>.article-body,article.sn .article-footer{padding:2rem}article.sn>.article-body{padding:0 2rem}@media(max-width:768px){article.sn>.article-header,article.sn>.article-body,article.sn .article-footer{padding:1rem}article.sn>.article-body{padding:0 1rem}}article.sn>.article-header .title{font-size:1.8rem;line-height:2rem;margin-bottom:.5rem}@media(max-width:768px){article.sn>.article-header .title{font-size:1.4rem;line-height:1.5rem}}article.sn>.article-header .facts{margin-bottom:1rem}article.sn>.article-body{margin-bottom:1.5rem}article.sn>.article-body h2{border-bottom:.25rem solid #333;font-size:1.2rem;line-height:1.5rem;margin:1.5rem 0;padding:.5rem 0}article.sn>.article-body h3{border-left:.5rem solid #333;line-height:1.5rem;margin:1.5rem 0;padding:.125rem .5rem}article.sn>.article-body ul,article.sn>.article-body ol{padding-left:1.5rem}article.sn>.article-body>ul,article.sn>.article-body>ol{margin:1.5rem 0}article.sn>.article-body li{line-height:2rem}article.sn>.article-body li:last-child{padding-bottom:0}article.sn>.article-body p{margin:1rem 0;line-height:2rem}article.sn>.article-body strong,article.sn>.article-body em{font-style:normal;font-weight:700}article.sn>.article-body strong{box-shadow:0 -.5rem #ffc107 inset}article.sn>.article-body em{color:#8bc34a}article.sn>.article-body h2 code{font-size:1.1rem}article.sn>.article-body h1 code,article.sn>.article-body h3 code,article.sn>.article-body h4 code,article.sn>.article-body h5 code,article.sn>.article-body h6 code{font-size:.9rem}article.sn>.article-body code,article.sn>.article-body pre{font-family:Menlo,Consolas,monospace;font-size:.7rem}article.sn>.article-body pre{background-color:#333;color:#fff;line-height:1rem;margin:1.5rem -2rem;overflow:auto}@media(max-width:768px){article.sn>.article-body pre{margin:1.5rem -1rem}}article.sn>.article-body pre>code{display:block;padding:1rem 2rem}@media(max-width:768px){article.sn>.article-body pre>code{padding:1rem}}article.sn>.article-body p code,article.sn>.article-body h1 code,article.sn>.article-body h2 code,article.sn>.article-body h3 code,article.sn>.article-body h4 code,article.sn>.article-body h5 code,article.sn>.article-body h6 code,article.sn>.article-body li code{background-color:#eceff1;color:#333;border-radius:4px;margin:0 .25rem;padding:.375rem;white-space:nowrap}article.sn>.article-body blockquote{position:relative;border-left:.25rem solid #333;font-size:.8rem;padding:.125rem 1rem;margin:1.5rem 0}@media(max-width:768px){article.sn>.article-body blockquote{font-size:1rem}}article.sn>.article-body blockquote p{margin:.5rem 0;line-height:1rem}article.sn>.article-body figure{margin:1.5rem 0}article.sn>.article-body img,article.sn>.article-body figure img,article.sn>.article-body figure amp-img{box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);max-width:100%;height:100%}article.sn>.article-body figcaption{color:#cfd8dc;font-size:.8rem;font-weight:700;margin-top:.5rem}.facts li{display:inline;font-size:.8rem;margin-right:1rem}.facts i{color:#cfd8dc;margin-right:.5em}.facts.sm li{font-size:.7rem}section.sidebar{margin:2rem 0}section.sidebar>header{font-size:.8rem;font-weight:700;letter-spacing:4px;text-align:center;margin:1.5rem 0}section.footer{margin:1rem 0}section.footer>header{font-size:.8rem;margin:.5rem 0}section.footer>header::before{content:"- "}section.footer>header a{font-weight:700;color:#333;text-decoration:underline}.terms{margin:-.25rem}.terms li{display:inline-block}.terms a{display:block;float:left;background-color:#333;border-radius:4px;color:#fff;font-size:.7rem;margin:.25rem;padding:0 .75rem;line-height:1.75rem}.paging{text-align:center;padding:1rem 0}.paging a{display:inline-block;background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);border-radius:4px;color:#333;padding:0 1rem;line-height:3rem}.page-title{text-align:center;margin:1rem 0}.page-title::after{content:'';display:block;border-bottom:.25rem solid #333;width:3rem;margin:1.5rem auto}.page-title>.title{font-size:1.2rem;line-height:1.5rem}.share{padding:0}.share a{display:inline-block;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);min-width:1rem;height:2rem;border-radius:4px;color:#333;font-size:.8rem;font-weight:700;line-height:2rem;text-align:center;padding:0 .5rem}.adj article.lism{margin-bottom:1rem}.adj header{font-weight:700;font-size:.8rem}.toc{padding:0 2rem;margin:1rem 0}.toc nav>ul{background-color:#eceff1;border-radius:4px;display:inline-block;font-size:.8rem;padding:.5rem 1rem;word-break:break-all;list-style:none}.toc ul{padding:0}.toc ul ul{padding-left:1rem}.toc ul ul>li{font-weight:700;margin:.5rem 0;list-style-type:decimal}.toc ul ul ul{padding-left:1rem}.toc ul ul ul>li{list-style-type:disc;font-weight:500}.toc li{color:#90a4ae}@media(max-width:768px){.toc{padding:0 1rem}}.author{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,5%),0 1px 3px rgba(63,63,68,.1),0 1px 2px rgba(0,0,0,5%);padding:1rem;border-radius:4px;text-align:center}.author .author-thumb{margin:0 auto 1rem;width:6rem;height:6rem;border-radius:50%;background-color:#eceff1;background-size:cover;background-position:50%}.author .author-name{margin-bottom:.5rem;font-weight:700}.author .author-facts{margin-bottom:1rem}.author .author-facts li{display:inline}.author .author-facts li a{display:inline-block;background-color:#eceff1;width:1.75rem;height:1.75rem;line-height:1.75rem;text-align:center;color:#333;font-size:.8rem;border-radius:2px}.author .author-facts li a:hover{color:#fff;background-color:#333}.author .author-description{text-align:left;font-size:.8rem}.author .author-description p{margin:.5rem 0}.thumb{background-image:url(https://blog.zzzmisa.com/images/default.jpg);background-size:cover;background-position:50%}.thumb-017cd46a4ebccbbf92d3e779057ced82{background-image:url(https://blog.zzzmisa.com/images/logo_github.png)}.thumb-b3d06f050e4d0a27204e02a0958ecea3{background-image:url(https://blog.zzzmisa.com/images/logo_macos.png)}.thumb-e645b2bbd23c3d113a5732d4aa5b82e8{background-image:url(https://blog.zzzmisa.com/images/japan-github-ranking1.png)}.thumb-fb6d72e7602d0d8e8cee690baffce0b1{background-image:url(https://blog.zzzmisa.com/images/logo_snyk.png)}.thumb-ccc560720eb64d37882f2ff93a7f79f0{background-image:url(https://blog.zzzmisa.com/images/curryjack2.png)}.thumb-512c063bdb9a1b40bbe90c3b29b17d86{background-image:url(https://blog.zzzmisa.com/images/logo_command.png)}.thumb-169f396a241deecf16c3c236c848e7bc{background-image:url(https://blog.zzzmisa.com/images/logo_vue.png)}.thumb-f6cf11eaba3190d39a310eb27451862c{background-image:url(https://blog.zzzmisa.com/images/logo_git.png)}.thumb-785e992cf5201aaf513032044710e238{background-image:url(https://blog.zzzmisa.com/images/logo_english.png)}.thumb-c97a9e3c097b85270702258a1079c2e4{background-image:url(https://blog.zzzmisa.com/images/zoom3.png)}.thumb-28a8f4ca927001e8a58ad401f0aa14ac{background-image:url(https://blog.zzzmisa.com/images/fusejs1.png)}.thumb-98aeefef0c4fcad6db6be8ff33d72df7{background-image:url(https://blog.zzzmisa.com/images/featured-image-maker2.png)}.thumb-da948da261a4265c45ebcc4dde681589{background-image:url(https://blog.zzzmisa.com/images/adrsir6.jpg)}.thumb-acef0ec0c40ba0b1da55880939615854{background-image:url(https://blog.zzzmisa.com/images/logo_raspberrypi.png)}.thumb-feb89fb1545426c924fe047e5f649eab{background-image:url(https://blog.zzzmisa.com/images/childcare_leave1.jpg)}.thumb-38b1b3c8f48fe63da641fb645fdb1e01{background-image:url(https://blog.zzzmisa.com/images/mikihouse_seminar1.jpg)}.thumb-ca31c29cd487ca7dc23ada9cc46f22d0{background-image:url(https://blog.zzzmisa.com/images/eye_catch_maker1.png)}.thumb-6706c1aaa04616b939abeaa25a59ca9e{background-image:url(https://blog.zzzmisa.com/images/logo_hugo.png)}.thumb-d832c4206ba69747d340e925afefd53c{background-image:url(https://blog.zzzmisa.com/images/logo_rails.png)}.thumb-d7b5b1c850b09b7398317f3632ddd595{background-image:url(https://blog.zzzmisa.com/images/logo_python.png)}.thumb-abbb9b12a0840e32f35c85169e4a7fd1{background-image:url(https://blog.zzzmisa.com/images/logo_homebrew.png)}.thumb-6082c7a9c996b08ccddb29e6adcbc6b8{background-image:url(https://blog.zzzmisa.com/images/logo_ruby.png)}.thumb-b98a59c9a4d053b92e4ffab500d58152{background-image:url(https://blog.zzzmisa.com/images/setup_mac.jpg)}.thumb-775d73985d46ddd8fca11610232265cf{background-image:url(https://blog.zzzmisa.com/images/logo_macos.png)}.thumb-c73279258da3295a209e5d7408b72b53{background-image:url(https://blog.zzzmisa.com/images/logo_vagrant.png)}.thumb-6cd4c2beeb5dda9b931c90ec68d843f9{background-image:url(https://blog.zzzmisa.com/images/logo_vagrant.png)}.thumb-396ea44a56a2a6d89c2bc542d84211df{background-image:url(https://blog.zzzmisa.com/images/everlast_notebook2.jpg)}.thumb-ee1289478436dee760e2a6c4e0652899{background-image:url(https://blog.zzzmisa.com/images/logo_hugo.png)}.thumb-a2b014c5c6c5768a098d3696e30a67fa{background-image:url(https://blog.zzzmisa.com/images/logo_heroku.png)}.thumb-9d15115d54de8e3a870bd17e9b3e1a3c{background-image:url(https://blog.zzzmisa.com/images/logo_vim.png)}.thumb-6e721614863e9dca63283649aea3414c{background-image:url(https://blog.zzzmisa.com/images/logo_heroku.png)}.thumb-8091cd6411fb4d358694578f6250e7ae{background-image:url(https://blog.zzzmisa.com/images/logo_vim.png)}.thumb-0b1fabf14e4fc33e33c8785d1c3563e1{background-image:url(https://blog.zzzmisa.com/images/logo_hugo.png)}.thumb-7d6b3af5bcb1bec935e2751426e44179{background-image:url(https://blog.zzzmisa.com/images/sony_service_station1.jpg)}.thumb-99778c63f5206e35bb8c589db1f59d28{background-image:url(https://blog.zzzmisa.com/images/logo_hugo.png)}.thumb-de1db5fdb968c041aad0716b6f2d5196{background-image:url(https://blog.zzzmisa.com/images/hatsumode1.jpg)}.thumb-8cbbfe9cdb363a5cbf11ce882aeea01a{background-image:url(https://blog.zzzmisa.com/images/guillanbarre1.jpg)}.thumb-28f8e3ef38e1c6a85f136c67c45431cf{background-image:url(https://blog.zzzmisa.com/images/job_hunting1.jpg)}.thumb-9decd0e5f1b26c952ee47c361f4cebfa{background-image:url(https://blog.zzzmisa.com/images/logo_hugo.png)}.thumb-a84a7e151c96f90fd4bf0d8129412e42{background-image:url(https://blog.zzzmisa.com/images/author.jpg)}body{font-family:Lato,YuGothic,hiragino kaku gothic pro,Meiryo,sans-serif}.h-logo{font-family:Lobster,cursive}</style><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-M5SJDZ36")</script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M5SJDZ36" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><header class=l-header><h1 class=logo><a href=https://blog.zzzmisa.com/>zzzmisa's blog</a></h1></header><main><div class=l-container><div class=mrow><div class="mcol c8"><article class=sn><div class="thumb thumb-da948da261a4265c45ebcc4dde681589"></div><header class=article-header><h1 class=title>Raspberry Pi用学習リモコン基板ADRSIRとAlexaでスマートホーム</h1><ul class=facts><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=2018-12-24T00:00:00JST>Dec 24, 2018</time></li><li><i class="fas fa-sync" aria-hidden=true></i><time datetime=2019-01-12T00:00:00JST>Jan 12, 2019</time></li></ul><aside class=share><a href="https://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&title=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0" title=はてなブックマーク class=ht target=_blank rel="noopener nofollow">B!</a>
<a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&text=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0&tw_p=tweetbutton" title=Twitterでシェア class=tw target=_blank rel="noopener nofollow"><i class="fab fa-twitter" aria-hidden=true></i></a>
<a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&t=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0" title=Facebookでシェア class=fb target=_blank rel="noopener nofollow"><i class="fab fa-facebook" aria-hidden=true></i></a>
<a href="https://getpocket.com/edit?url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&title=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0" title=Pocketに保存 class=pk target=_blank rel="noopener nofollow"><i class="fab fa-get-pocket" aria-hidden=true></i></a>
<a href="https://social-plugins.line.me/lineit/share?url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f" title=LINEでシェア class=ln target=_blank rel="noopener nofollow"><i class="fab fa-line" aria-hidden=true></i></a></aside></header><div class=toc><nav id=TableOfContents><ul><li><a href=#準備したもの>準備したもの</a></li><li><a href=#システム構成>システム構成</a></li><li><a href=#学習リモコン基板の準備>学習リモコン基板の準備</a></li><li><a href=#node-red-alexa-home-skill-bridge>Node-RED Alexa Home Skill Bridge</a><ul><li><a href=#アカウント作成>アカウント作成</a></li><li><a href=#デバイス追加>デバイス追加</a></li></ul></li><li><a href=#alexa-アプリの設定>Alexa アプリの設定</a><ul><li><a href=#node-red-スキルの追加>Node-RED スキルの追加</a></li><li><a href=#提携アクションの設定>提携アクションの設定</a></li></ul></li><li><a href=#node-red-でフローを作成>Node-RED でフローを作成</a><ul><li><a href=#node-red-contrib-alexa-home-skill-ノードの追加>node-red-contrib-alexa-home-skill ノードの追加</a></li><li><a href=#リモコンノードの追加>リモコンノードの追加</a></li><li><a href=#フロー作成>フロー作成</a></li></ul></li><li><a href=#実行>実行！</a></li><li><a href=#まとめ>まとめ</a></li></ul></nav></div><div class=article-body><p>この記事は<a href=https://qiita.com/advent-calendar/2018/ouch-hack/>おうちハック Advent Calendar 2018</a>の 24 日目です。メリークリスマス！！</p><hr><p>Raspberry Pi 用の学習リモコン基板と Alexa でスマートホームにチャレンジしました。<br>こんな感じで、エアコンや照明を Alexa から操作できます。</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/lvbrPFOBPeE style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=準備したもの>準備したもの</h2><ol><li><a href=https://amzn.to/2CfAtMA>Raspberry Pi 3</a>（以下ラズパイ）<br>ケース付きを買いましたが、今回は結局下記のオフィシャルケースを使いました。</li><li><a href=https://amzn.to/2Cf8AnR>ADRSIR 　ラズベリー・パイ専用 学習リモコン基板</a><br>リモコンの赤外線を学習して、学習した赤外線を家電に送信できる基板です。<br>商品の詳細は<a href=http://bit-trade-one.co.jp/product/module/adrsir/>ビット・トレード・ワンのページ</a>を参照。</li><li><a href=https://amzn.to/2Cety6i>Raspberry Pi 3/2/B+ 用オフィシャルケース 赤/白</a><br>ラズパイと学習リモコン基板を重ねて入れるのにぴったりサイズのケースです。<br>商品の詳細は<a href=https://www.switch-science.com/catalog/2647/>スイッチサイエンスのページ</a>を参照。</li><li><a href=https://amzn.to/2CrviJB>Amazon Echo Dot 第 2 世代</a></li></ol><h2 id=システム構成>システム構成</h2><p>全体のシステム構成はこんな感じ。<figure><img src=https://blog.zzzmisa.com/images/adrsir1.jpg alt width=640 height=216></figure></p><h2 id=学習リモコン基板の準備>学習リモコン基板の準備</h2><p>学習リモコン基板の準備は、<a href=https://youtu.be/Mfq-TaU2dcU/>ビット・トレード・ワンが公開している動画</a>が参考になります。</p><p>まずは、学習リモコン基板をラズパイにセットします。</p><p>次に、学習リモコン基板の物理スイッチを操作して、エアコンのリモコンで暖房を付けるの赤外線を L01（リモコン 1）に、照明のリモコンで明かりを付ける時の赤外線を L06（リモコン 6）に、それぞれ学習させておきます。<br>（L02〜L05、L07〜L10 にもそれぞれ電源オフや温度調整等の赤外線を登録していますが、説明では割愛します）。</p><h2 id=node-red-alexa-home-skill-bridge>Node-RED Alexa Home Skill Bridge</h2><h3 id=アカウント作成>アカウント作成</h3><p>今回はラズパイに標準インストールされている Node-RED を使って、赤外線送信を設定します。<br>Alexa と Node-RED を連携するためには、Node-RED Alexa Home Skill Bridge というサービスを使います。<br>そのため、まずは<a href=https://alexa-node-red.bm.hardill.me.uk/>Node-RED Alexa Home Skill Bridge</a>にアクセスし、アカウントを作っておきます。</p><h3 id=デバイス追加>デバイス追加</h3><p>Node-RED Alexa Home Skill Bridge のサービス上でデバイス追加を行います。<br>今回は 01_danbou_on、06_bedlight_on という名前でデバイスを登録しました。<br>（家族しかさわらないのでローマ字の変数が混ざっているのはご容赦くださいｗ）。</p><figure><img src=https://blog.zzzmisa.com/images/adrsir2.png alt width=640 height=423></figure><h2 id=alexa-アプリの設定>Alexa アプリの設定</h2><h3 id=node-red-スキルの追加>Node-RED スキルの追加</h3><p>スマホに入れた Alexa アプリに Node-RED スキルを追加し、Node-RED Alexa Home Skill Bridge に登録したアカウントでログインしておきます。<br>ちなみに、この Node-RED スキルのデベロッパーと、Node-RED Alexa Home Skill Bridge のサーバーを立ててくださっているのは同じ方です。</p><figure><img src=https://blog.zzzmisa.com/images/adrsir3.png alt width=270 height=480></figure><h3 id=提携アクションの設定>提携アクションの設定</h3><p>次に、Alexa アプリで定型アクションを設定します。<br>「新しい提携アクション」から、「実行条件」に「アレクサ、暖房をつけて」を設定、「アクションを追加」→「スマートホーム」で「01_danbou_on」を設定します。<br>同じように、「新しい提携アクション」から、「実行条件」に「アレクサ、寝室の電気をつけて」を設定、「アクションを追加」→「スマートホーム」で「06_bedlight_on」を設定します。</p><figure><img src=https://blog.zzzmisa.com/images/adrsir4.png alt width=270 height=480></figure><h2 id=node-red-でフローを作成>Node-RED でフローを作成</h2><p>最後に Node-RED で、Alexa と学習リモコン基板からの赤外線送信を連携します。<br>今回使った Node-RED のバージョンは v0.18.4 です。<br>ラズパイ上で Node-RED を立ち上げると、同一 LAN 内にある端末のブラウザから<code>http://&lt;IPアドレス>:1880</code>で Node-RED の Flow エディタ画面にアクセスできるようになります。<br>なお、Node-RED はラズパイを再起動しても動くように、デーモン化して自動起動するようにしておくと良いと思います。<br>Node-Red の基本的な使い方は<a href=https://nodered.org/>公式サイトを参照</a>。</p><h3 id=node-red-contrib-alexa-home-skill-ノードの追加>node-red-contrib-alexa-home-skill ノードの追加</h3><p>Node-RED 右上のハンバーガーメニューから「パレットの管理」→「ノードを追加」→ &ldquo;node-red-contrib-alexa-home-skill&rdquo; で検索。<br>「ノードを追加」ボタンから追加すると、エディタ左メニューのノード一覧に alexa home ノードが追加されます。</p><h3 id=リモコンノードの追加>リモコンノードの追加</h3><p><a href=http://bit-trade-one.co.jp/blog/2017121302/>ビット・トレード・ワンのページ</a>から、学習リモコン基板用のソフトウェア 3 種詰め合わせをダウンロードします。<br>ダウンロードしたファイルのうち、node-red-20180209.json の中身を、Node-red 右上のハンバーガーメニューから「読み込み」→「クリップボード」で開いたテキストエリアに貼り付け「完了」を押します。<br>左メニューのノード一覧に、リモコン 1〜リモコン 10 のノードが追加されます。</p><h3 id=フロー作成>フロー作成</h3><p>alexa home ノードとリモコンノードを繋げます。<br>alexa home ノードはダブルクリックで編集画面が開くので、Node-RED Alexa Home Skill Bridge に登録したアカウントでログインします。<br>ログインすると、Node-RED Alexa Home Skill Bridge で作成したデバイスである 01_danbou_on や 06_bedlight_on が選べるようになります。<br>今回は 01_danbou_on をリモコン 1 に、06_bedlight_on リモコン 6 に繋げるフローを作成します。
編集が終わったら、右上の「デプロイ」を押して反映させます。</p><figure><img src=https://blog.zzzmisa.com/images/adrsir5.png alt width=640 height=414></figure><h2 id=実行>実行！</h2><p>Alexa に「暖房をつけて」「寝室の照明をつけて」と話掛けると、学習リモコン基板から赤外線が送信され、エアコンと照明の電源が付きます！</p><h2 id=まとめ>まとめ</h2><p>今回は、学習リモコン基板と Alexa の基本的な連携を試すことができました。<br>子育て中は抱っこで両手がふさがっていることが多いので、音声で操作できるのはとっても便利です！<br>ただこれくらいのことは市販のスマートリモコンでもできると思います。<br>次回はラズパイじゃないとできない複雑な処理にもチャレンジしてみたいと思っています。</p></div><footer class=article-footer><aside class=share><a href="https://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&title=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0" title=はてなブックマーク class=ht target=_blank rel="noopener nofollow">B!</a>
<a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&text=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0&tw_p=tweetbutton" title=Twitterでシェア class=tw target=_blank rel="noopener nofollow"><i class="fab fa-twitter" aria-hidden=true></i></a>
<a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&t=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0" title=Facebookでシェア class=fb target=_blank rel="noopener nofollow"><i class="fab fa-facebook" aria-hidden=true></i></a>
<a href="https://getpocket.com/edit?url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f&title=Raspberry%20Pi%e7%94%a8%e5%ad%a6%e7%bf%92%e3%83%aa%e3%83%a2%e3%82%b3%e3%83%b3%e5%9f%ba%e6%9d%bfADRSIR%e3%81%a8Alexa%e3%81%a7%e3%82%b9%e3%83%9e%e3%83%bc%e3%83%88%e3%83%9b%e3%83%bc%e3%83%a0" title=Pocketに保存 class=pk target=_blank rel="noopener nofollow"><i class="fab fa-get-pocket" aria-hidden=true></i></a>
<a href="https://social-plugins.line.me/lineit/share?url=https%3a%2f%2fblog.zzzmisa.com%2fadrsir%2f" title=LINEでシェア class=ln target=_blank rel="noopener nofollow"><i class="fab fa-line" aria-hidden=true></i></a></aside><section class=footer><header><a href=https://blog.zzzmisa.com/tags/>TAGS</a></header><ul class=terms><li><a href=https://blog.zzzmisa.com/tags/raspberrypi/>raspberrypi</a></li><li><a href=https://blog.zzzmisa.com/tags/advent-calendar/>advent-calendar</a></li></ul></section></footer></article><div class="adj mrow"><div class="mcol c6"><header>Next Article</header><article class=lism><a href=https://blog.zzzmisa.com/privacy/><div class="thumb thumb-f8c2def7672b34f304c4c0847ef9009a"></div><div class=inner><div class=title>プライバシーポリシー</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=28007-01-28T00:00:00JST>Jan 28, 2019</time></li></ul></div></a></article></div><div class="mcol c6"><header>Previous Article</header><article class=lism><a href=https://blog.zzzmisa.com/raspberrypi_ipaddress/><div class="thumb thumb-acef0ec0c40ba0b1da55880939615854"></div><div class=inner><div class=title>Raspberry Piで固定IPアドレス</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=23007-12-23T00:00:00JST>Dec 23, 2018</time></li></ul></div></a></article></div></div></div><div class="mcol c4"><aside class=l-sidebar><section class=sidebar><header>AUTHOR</header><div class=author><div class=author-thumb style=background-image:url(https://blog.zzzmisa.com/images/author.png)></div><div class=author-name>ミサ</div><ul class=author-facts><li><a href=https://twitter.com/zzzmisa rel="noopener nofollow" target=_blank><i class="fa-brands fa-x-twitter" aria-hidden=true></i></a></li><li><a href=https://github.com/zzzmisa rel="noopener nofollow" target=_blank><i class="fa-brands fa-github" aria-hidden=true></i></a></li><li><a href=https://zzzmisa.com rel="noopener nofollow" target=_blank><i class="fa-solid fa-house" aria-hidden=true></i></a></li></ul><div class=author-description><p>このブログについてと、プロフィールは<a href=/about>こちら</a>。</p></div></div></section><section class=sidebar><header>LATESTS</header><div class="articles sm"><article class=lism><a href=https://blog.zzzmisa.com/octokit-with-github-app/><div class="thumb thumb-017cd46a4ebccbbf92d3e779057ced82"></div><div class=inner><div class=title>OctokitとGitHub AppsでGitHub APIを叩く</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=4007-02-04T00:00:00JST>Feb 4, 2023</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/m1-mac-with-node10/><div class="thumb thumb-b3d06f050e4d0a27204e02a0958ecea3"></div><div class=inner><div class=title>M1 Macでnode 10系を使う</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=4007-06-04T00:00:00JST>Jun 4, 2022</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/japan-github-ranking/><div class="thumb thumb-e645b2bbd23c3d113a5732d4aa5b82e8"></div><div class=inner><div class=title>日本語しか読みたくない人ためのGitHubランキング</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=5007-12-05T00:00:00JST>Dec 5, 2021</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/try-snyk/><div class="thumb thumb-fb6d72e7602d0d8e8cee690baffce0b1"></div><div class=inner><div class=title>Snykの脆弱性データベースってどれくらい凄いの？</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=1007-12-01T00:00:00JST>Dec 1, 2021</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/curryjack/><div class="thumb thumb-ccc560720eb64d37882f2ff93a7f79f0"></div><div class=inner><div class=title>オープンデータカレーを使ったゲームアプリを作った</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=23007-12-23T00:00:00JST>Dec 23, 2019</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/kill-process/><div class="thumb thumb-512c063bdb9a1b40bbe90c3b29b17d86"></div><div class=inner><div class=title>ポート番号や実行コマンド名からプロセスをkill</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=12007-10-12T00:00:00JST>Oct 12, 2019</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/uninstall-vue-cli-plugin/><div class="thumb thumb-169f396a241deecf16c3c236c848e7bc"></div><div class=inner><div class=title>Vue CLI 3でプラグインをアンインストール</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=5007-10-05T00:00:00JST>Oct 5, 2019</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/git_commit_date/><div class="thumb thumb-f6cf11eaba3190d39a310eb27451862c"></div><div class=inner><div class=title>Gitのコミット日時を修正する方法</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=22007-09-22T00:00:00JST>Sep 22, 2019</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/notice/><div class="thumb thumb-af4252a5a152257de7fbb76f57fcd2d7"></div><div class=inner><div class=title>免責事項</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=15007-03-15T00:00:00JST>Mar 15, 2019</time></li></ul></div></a></article><article class=lism><a href=https://blog.zzzmisa.com/english-phrase/><div class="thumb thumb-785e992cf5201aaf513032044710e238"></div><div class=inner><div class=title>スカイプ英会話フレーズ集</div><ul class="facts sm"><li><i class="fas fa-calendar" aria-hidden=true></i><time datetime=8007-02-08T00:00:00JST>Feb 8, 2019</time></li></ul></div></a></article></div></section><section class=sidebar><header>TAGS</header><ul class=terms><li><a href=https://blog.zzzmisa.com/tags/advent-calendar>advent-calendar <span class=count>(8)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/frontend>frontend <span class=count>(5)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/hugo>hugo <span class=count>(5)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/macos>macos <span class=count>(4)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/info>info <span class=count>(3)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/my-product>my-product <span class=count>(3)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/nodejs>nodejs <span class=count>(3)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/vim>vim <span class=count>(3)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/vuejs>vuejs <span class=count>(3)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/childcare>childcare <span class=count>(2)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/diary>diary <span class=count>(2)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/heroku>heroku <span class=count>(2)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/rails>rails <span class=count>(2)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/raspberrypi>raspberrypi <span class=count>(2)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/vagrant>vagrant <span class=count>(2)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/anaconda>anaconda <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/bootstrap>bootstrap <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/bulma>bulma <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/camera>camera <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/career>career <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/command>command <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/english>english <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/event>event <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/git>git <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/jupyter>jupyter <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/octokit>octokit <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/python>python <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/rubocop>rubocop <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/ruby>ruby <span class=count>(1)</span></a></li><li><a href=https://blog.zzzmisa.com/tags/shopping>shopping <span class=count>(1)</span></a></li></ul></section></aside></div></div></main><footer class=l-footer><div class=l-container><p><a href=https://blog.zzzmisa.com/notice>Notice</a> | <a href=https://blog.zzzmisa.com/privacy>Privacy Policy</a></p><aside><p>Powered by <a href=https://gohugo.io/>Hugo</a>. Theme <a href=https://github.com/dim0627/hugo_theme_robust>Robust</a> designed by <a href=http://yet.unresolved.xyz/>Daisuke Tsuji</a>
and <a href=https://github.com/zzzmisa/hugo_theme_robust>modified</a> by <a href=https://zzzmisa.com/>zzzmisa</a>.</p></aside><p><span class=h-logo>&copy; zzzmisa's blog</span></p></div></footer></body></html>